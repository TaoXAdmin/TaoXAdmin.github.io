---
import BaseLayout from '../../layouts/BaseLayout.astro';

const lang = 'fr';
const pageTitle = 'Cas d’étude - Alexis Fiska';
const pageDescription =
  "Études de cas QA & GenAI : Xpollens (BaaS BPCE) – automatisation from scratch, CI/CD Azure, fiabilité des parcours critiques. D’autres cas arrivent.";
const BASE = import.meta.env.BASE_URL ?? '/';
---
<BaseLayout lang={lang} title={pageTitle} description={pageDescription}>
  <h1 class="text-3xl font-bold mb-6 text-center">Cas d’étude</h1>
  <p class="max-w-3xl mx-auto mb-10 text-neutral-700 dark:text-neutral-300 text-center">
    Chaque projet est unique. Voici comment j’ai accompagné une fintech BaaS (groupe BPCE) vers une
    automatisation des tests efficace et durable. Les chiffres précis sont volontairement omis ou
    anonymisés conformément aux accords de confidentialité (NDA).
  </p>

  <!-- Xpollens -->
  <article class="mb-12">
    <h2 class="text-2xl font-semibold mb-2 text-blue-600 dark:text-blue-400">Xpollens (Groupe BPCE)</h2>

    <figure class="mb-4">
      <img
        src={`${BASE}images/cases/xpollens/hero.svg`}
        alt="Xpollens — pipeline CI/CD et parcours critiques bancaires"
        loading="lazy"
        class="w-full rounded-2xl shadow-sm"
      />
      <figcaption class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
        Automatisation from scratch : E2E/API, CI/CD Azure, reporting Teams/Email.
      </figcaption>
    </figure>

    <h3 class="text-xl font-medium mt-4 mb-1">Contexte</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      Fintech BaaS opérant des produits critiques (Izly, Bimpli, Money Walkie, marketplace Leroy Merlin/Adeo,
      Autodoc SEPA, Nirio/FDJ...). À mon arrivée : 0 automatisation, 7 squads avec QA manuel, recettes longues,
      incidents par périodes, forte contrainte réglementaire (RGPD/KYC/LCB-FT).
    </p>

    <h3 class="text-xl font-medium mt-4 mb-1">Objectifs</h3>
    <ul class="list-disc pl-5 mb-3 text-neutral-700 dark:text-neutral-300 space-y-1">
      <li>Démarrer l’automatisation E2E/API et sécuriser les parcours critiques monétiques & comptes.</li>
      <li>Industrialiser une pipeline <strong>Azure DevOps</strong> (build/test/report) sur qualif/intégration/prod (smoke).</li>
      <li>Réduire de moitié la recette manuelle ; structurer NR/triage/observabilité.</li>
    </ul>

    <h3 class="text-xl font-medium mt-4 mb-1">Approche</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      Framework C# maison : <strong>SpecFlow + Gherkin</strong> (BDD), <strong>Selenium</strong> (UI), <strong>RestSharp</strong> (API),
      Page Objects robustes (<code>data-testid</code>), jeux de données CSV anonymisés, retries (≤3) bornés, anti-flakes.
      CI Azure : 2 runs/jour, reporting Teams + mail à la squad, screenshots/traçabilité.
    </p>

    <h3 class="text-xl font-medium mt-4 mb-1">Résultats</h3>
    <ul class="list-disc pl-5 mb-3 text-neutral-700 dark:text-neutral-300 space-y-1">
      <li>~60 % de couverture critique en M2, ≈100 % en M6 ; recette ÷2 ; −23 % d’incidents prod (année 1).</li>
      <li>Adoption BDD dans les squads, milliers de bugs interceptés en 3 ans, stabilité accrue des plateformes.</li>
    </ul>

    <div class="grid grid-cols-1 md:grid-cols-2 gap-4 my-4">
      <figure class="border rounded-xl p-3 dark:border-neutral-700">
        <img
          src={`${BASE}images/cases/xpollens/pipeline-before.svg`}
          alt="Avant : recettes manuelles longues, instabilité, 0 automatisation"
          loading="lazy"
          class="w-full rounded-lg"
        />
        <figcaption class="mt-2 text-xs text-neutral-600 dark:text-neutral-400">Avant : recettes manuelles, instabilité périodique.</figcaption>
      </figure>
      <figure class="border rounded-xl p-3 dark:border-neutral-700">
        <img
          src={`${BASE}images/cases/xpollens/pipeline-after.svg`}
          alt="Après : CI/CD Azure, E2E 2×/jour, reporting centralisé, smoke prod"
          loading="lazy"
          class="w-full rounded-lg"
        />
        <figcaption class="mt-2 text-xs text-neutral-600 dark:text-neutral-400">Après : CI/CD Azure, E2E 2×/jour, reporting & smoke prod.</figcaption>
      </figure>
    </div>

    <h3 class="text-xl font-medium mt-4 mb-1">Stack</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      C#, SpecFlow (Gherkin), Selenium, RestSharp, Azure DevOps, Microsoft Teams.
    </p>

    <p class="text-sm italic text-neutral-600 dark:text-neutral-400">
      NDA : certaines informations sont anonymisées/généralisées.
    </p>

    <p class="mt-4">
      <a href={`${BASE}fr/cases/xpollens`} class="inline-block px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700">
        Lire l’étude détaillée
      </a>
    </p>
  </article>

  <!-- Tu pourras ajouter ici Ornikar et Projets GenAI au même format -->
</BaseLayout>
