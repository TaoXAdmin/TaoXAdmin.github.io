---
import BaseLayout from '../../layouts/BaseLayout.astro';

const lang = 'pt';
const pageTitle = 'Estudos de caso – Alexis Fiska';
const pageDescription =
  'Estudos de QA: Xpollens (BPCE BaaS) — automação do zero, Azure CI/CD, jornadas críticas estáveis; Ornikar Seguro — E2E robusto, integrações com comparadores, execuções em PR e diárias.';
const BASE = import.meta.env.BASE_URL ?? '/';
---
<BaseLayout lang={lang} title={pageTitle} description={pageDescription}>
  <h1 class="text-3xl font-bold mb-6 text-center">Estudos de caso</h1>
  <p class="max-w-3xl mx-auto mb-10 text-neutral-700 dark:text-neutral-300 text-center">
    Resumos “light” antes da leitura completa. Números exatos são generalizados por NDA.
  </p>

  <!-- Xpollens -->
  <article class="mb-12">
    <h2 class="text-2xl font-semibold mb-2 text-blue-600 dark:text-blue-400">Xpollens (Grupo BPCE)</h2>
    <figure class="mb-4">
      <img
        src={`${BASE}images/cases/xpollens/hero.svg`}
        alt="Xpollens — pipeline CI/CD e jornadas bancárias críticas"
        loading="lazy"
        class="w-full rounded-2xl shadow-sm"
      />
      <figcaption class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
        Do zero: automação E2E/API, Azure CI/CD, relatórios via Teams/Email.
      </figcaption>
    </figure>

    <h3 class="text-xl font-medium mt-4 mb-1">Contexto</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      Fintech BaaS com produtos críticos (Izly, Bimpli, Money Walkie, marketplace Leroy Merlin, Autodoc SEPA, Nirio/FDJ…).
      No início: nenhuma automação, 7 squads com QA manual, NR longas, incidentes periódicos, forte regulação.
    </p>

    <h3 class="text-xl font-medium mt-4 mb-1">Objetivos</h3>
    <ul class="list-disc pl-5 mb-3 text-neutral-700 dark:text-neutral-300 space-y-1">
      <li>Iniciar automação E2E/API e proteger fluxos monetários &amp; de conta.</li>
      <li>Industrializar <strong>Azure DevOps</strong> (build/test/report) incluindo smoke em produção.</li>
      <li>Reduzir NR manual; estruturar triagem/observabilidade.</li>
    </ul>

    <h3 class="text-xl font-medium mt-4 mb-1">Abordagem & resultados</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      Framework C# (SpecFlow/Selenium/RestSharp), seletores estáveis &amp; dados anonimizados, retries limitados.
      2 execuções/dia, Teams+email, screenshots/logs. ≈100% de cobertura crítica até M6, esforço manual ÷2,
      −23% de incidentes em produção no primeiro ano.
    </p>

    <p class="mt-4">
      <a href={`${BASE}pt/cases/xpollens`} class="inline-block px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700">
        Ler estudo completo
      </a>
    </p>
  </article>

  <!-- Ornikar -->
  <article class="mb-12">
    <h2 class="text-2xl font-semibold mb-2 text-blue-600 dark:text-blue-400">Seguro Ornikar</h2>
    <figure class="mb-4">
      <img
        src={`${BASE}images/cases/ornikar/i18n/pt/hero.svg`}
        alt="Seguro Ornikar — Automação de QA & CI/CD, cotações, pagamento, comparadores integrados"
        loading="lazy"
        class="w-full rounded-2xl shadow-sm"
      />
      <figcaption class="mt-2 text-sm text-neutral-600 dark:text-neutral-400">
        E2E robusto (10 perfis), execuções de PR e diárias, comparadores (LesFurets, LeLynx, MeilleureAssurance).
      </figcaption>
    </figure>

    <h3 class="text-xl font-medium mt-4 mb-1">Contexto</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      Testes ponta-a-ponta da plataforma de Seguro Auto: criação de conta, cotação (44 M veículos, 3 planos), pagamento.
      Validação de integração de três comparadores externos com diferentes restrições e modelos de dados.
    </p>

    <h3 class="text-xl font-medium mt-4 mb-1">Objetivos</h3>
    <ul class="list-disc pl-5 mb-3 text-neutral-700 dark:text-neutral-300 space-y-1">
      <li>Estabilizar o E2E existente e proteger jornadas críticas.</li>
      <li>Automatizar ao máximo mesmo sem ambientes dedicados dos comparadores.</li>
      <li>Acelerar releases via execuções em PR + diárias.</li>
    </ul>

    <h3 class="text-xl font-medium mt-4 mb-1">Abordagem & resultados</h3>
    <p class="mb-3 text-neutral-700 dark:text-neutral-300">
      TS/React, Selenium/Playwright, Appium, Jenkins+K8s, Xray. Page Objects, builders de dados, randomização controlada,
      retries limitados & waits progressivos. 2 runs/dia (~25 min), execuções em PR, screenshots/logs de API, avisos Slack/E-mail.
      100% das jornadas críticas em M1, estabilidade maior; testes manuais focados para comparadores.
    </p>

    <p class="mt-4">
      <a href={`${BASE}pt/cases/ornikar`} class="inline-block px-4 py-2 rounded-lg bg-blue-600 text-white hover:bg-blue-700">
        Ler estudo completo
      </a>
    </p>
  </article>
</BaseLayout>
