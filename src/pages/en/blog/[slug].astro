---
import BaseLayout from '../../../../layouts/BaseLayout.astro';
import { getCollection } from 'astro:content';

const lang = 'en';
const { slug } = Astro.params;
const posts = await getCollection('blog');
const post = posts.find((p) => p.data.locale === lang && p.data.slug === slug);
if (!post) {
  throw new Error(`Article not found: ${slug}`);
}
const { Content, data } = await post.render();
---
<BaseLayout lang={lang} title={`${data.title} - Alexis Fiska`} description={data.description}>
  <article class="prose dark:prose-invert max-w-3xl mx-auto">
    <h1 class="text-3xl font-bold mb-2">{data.title}</h1>
    <p class="text-sm text-neutral-500 dark:text-neutral-400 mb-6">
      {new Date(data.date).toLocaleDateString('en-US', { year: 'numeric', month: 'long', day: 'numeric' })}
    </p>
    <Content />
  </article>
</BaseLayout>